if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometComposerInterceptionPluginForLexical.react",["CometComposerInterceptionGetMessagesHandler","CometComposerInterceptionPluginUtils","CometComposerInterceptionVolunteeringHandler","CometRelay","LexicalText","composerDirtyStateViewStateReducer","react","useCometRouterDispatcher","useComposerPreSubmitHook","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.isGetMessagesPost,e=a.lexicalEditor,f=a.mediaAttachments,g=a.onAttemptInterception,h=a.onAttemptInterceptionComplete,i=a.submitForm,j=a.unifiedInterceptionRequestData,k=d("CometRelay").useRelayEnvironment();a=c("useCometRouterDispatcher")();var l=j.sessionID,m=j.targetID;c("useComposerViewStateReducer")(c("composerDirtyStateViewStateReducer"));var n=c("useComposerViewStateDispatcher")(),o=d("CometComposerInterceptionGetMessagesHandler").useGetMessagesCometComposerInterceptionHandler(n,b,m,l,i),p=d("CometComposerInterceptionVolunteeringHandler").useVolunteeringAutoConvertCometComposerInterceptionHandler(m,l,a);function q(a){var b=a.onContinue;g();a=function(){n({type:"set_ignore_dirty_flag",value:!1}),h(),b()};var c=(e==null?void 0:e.getEditorState().read(d("LexicalText").$rootTextContent))||"";d("CometComposerInterceptionPluginUtils").performInterception(n,k,c,f,j,a,{getMessagesHandler:o,volunteeringHandler:p})}c("useComposerPreSubmitHook")(q);return null}b=c("withComposerViewStatePart")(a,function(a){return{isGetMessagesPost:a.isGetMessagesPost,lexicalEditor:a.lexicalEditor,mediaAttachments:a.mediaAttachments}});g["default"]=b}),98);